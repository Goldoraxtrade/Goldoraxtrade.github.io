<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoldoraX - ‡∏ô‡πâ‡∏≥‡πÄ‡∏ï‡πâ‡∏≤‡∏õ‡∏π‡∏õ‡∏•‡∏≤</title>
<style>
body {margin:0;font-family:'Segoe UI',Roboto,sans-serif;background:#000;color:#FFD700;text-align:center;padding:20px;}
.container {max-width:500px;margin:20px auto;background:#111;padding:20px;border-radius:16px;box-shadow:0 0 20px #FFD700;}
input, button, select {padding:10px;margin:5px;border-radius:8px;border:none;font-size:16px;}
button {cursor:pointer;font-weight:bold;}
.btn-primary {background:#FFD700;color:#000;}
.btn-secondary {background:#222;color:#fff;border:1px solid #FFD700;}
.animal {background:linear-gradient(145deg,#ff0000,#ffffff);color:#000;border-radius:10px;padding:10px 12px;cursor:pointer;width:90px;display:inline-block;margin:5px;transition:0.3s;font-weight:bold;text-align:center;box-shadow:0 6px 15px rgba(0,0,0,0.3);animation:float 3s ease-in-out infinite;}
.animal:hover{background:linear-gradient(145deg,#ff9999,#ffffff);}
.animal.selected{box-shadow:0 0 15px #FFD700;border:1px solid #FFD700;}
#resultArea {margin-top:20px;background:#333;padding:10px;border-radius:10px;display:none;}
.shake{animation:shake 0.5s;}
@keyframes shake{0%{transform:translate(0,0);}20%{transform:translate(-4px,0);}40%{transform:translate(4px,0);}60%{transform:translate(-4px,0);}80%{transform:translate(4px,0);}100%{transform:translate(0,0);}}
@keyframes float{0%,100%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-8px) rotate(3deg);}}
</style>
</head>
<body>

<div id="loginForm" class="container">
<h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö / ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
<input type="text" id="username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
<input type="password" id="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
<br>
<button class="btn-primary" onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
<button class="btn-secondary" onclick="register()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
</div>

<div id="game" class="container" style="display:none;">
<h2>‡∏ô‡πâ‡∏≥‡πÄ‡∏ï‡πâ‡∏≤‡∏õ‡∏π‡∏õ‡∏•‡∏≤</h2>
<div>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: <span id="playerID"></span></div>
<div>‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô: <span id="playerBalance">0</span> ‡∏ø</div>
<div id="animals"></div>
<div>
<label>‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå: </label><input type="number" id="betAmount" value="50" min="50" step="50"> ‡∏ø
</div>
<button class="btn-primary" id="spinBtn">‡∏ó‡∏≠‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤</button>
<button class="btn-secondary" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
<button class="btn-primary" onclick="window.open('https://lin.ee/Mm1caQx','_blank')">‡∏ù‡∏≤‡∏Å/‡∏ñ‡∏≠‡∏ô LINE OA</button>
<div id="resultArea">
<div id="diceResult"></div>
<div id="summary"></div>
<div id="payout"></div>
</div>
</div>

<div id="adminPanel" class="container" style="display:none;">
<h2>‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Admin</h2>
<select id="playerSelect"></select><br>
<input type="number" id="adminAmount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô +/-"><br>
<button class="btn-primary" onclick="updatePlayerBalance()">‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏î‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</button><br>
<button class="btn-secondary" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
<h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h3>
<div id="playersList"></div>
</div>

<script>
const adminCode='Adminyai774570';
let users=JSON.parse(localStorage.getItem('users')||'[]');
let currentUser=null; let balance=0; let playerID='';
const animalsList=[{key:'fish',label:'‡∏õ‡∏•‡∏≤',emoji:'üêü'},{key:'crab',label:'‡∏õ‡∏π',emoji:'ü¶Ä'},{key:'tiger',label:'‡πÄ‡∏™‡∏∑‡∏≠',emoji:'üêÖ'},{key:'gourd',label:'‡∏ô‡πâ‡∏≥‡πÄ‡∏ï‡πâ‡∏≤',emoji:'üçà'},{key:'chicken',label:'‡πÑ‡∏Å‡πà',emoji:'üêì'},{key:'shrimp',label:'‡∏Å‡∏∏‡πâ‡∏á',emoji:'ü¶ê'}];
const maxChoices=2; let selected=new Set();

function saveUsers(){localStorage.setItem('users',JSON.stringify(users));}

function login(){
 const u=document.getElementById('username').value.trim();
 const p=document.getElementById('password').value.trim();
 if(u===''||p===''){alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö');return;}
 if(u===adminCode){document.getElementById('loginForm').style.display='none'; document.getElementById('adminPanel').style.display='block'; showAdmin(); return;}
 let user=users.find(x=>x.username===u&&x.password===p);
 if(!user){alert('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); return;}
 currentUser=u; balance=user.balance||0; playerID=user.id||('id'+(users.indexOf(user)+1001)); user.id=playerID; saveUsers(); showGame();
}

function register(){
 const u=document.getElementById('username').value.trim();
 const p=document.getElementById('password').value.trim();
 if(u === '' || p === ''){alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö');return;}
 if(u === adminCode){alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ');return;}
 if(users.find(x => x.username === u)){alert('‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß');return;}
 let newUser={username:u,password:p,balance:0,id:'id'+(users.length+1001)};
 users.push(newUser); saveUsers(); alert('‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏Å‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥'); currentUser=newUser.username; balance=newUser.balance; playerID=newUser.id; showGame();
}

function logout(){currentUser=null; balance=0; selected.clear(); document.getElementById('game').style.display='none'; document.getElementById('adminPanel').style.display='none'; document.getElementById('loginForm').style.display='block';}

function showGame(){
 document.getElementById('loginForm').style.display='none'; document.getElementById('game').style.display='block';
 document.getElementById('playerBalance').textContent=balance;
 document.getElementById('playerID').textContent=playerID;
 createAnimals();
}

function createAnimals(){
 const animalsEl=document.getElementById('animals'); animalsEl.innerHTML='';
 animalsList.forEach(a=>{
  const div=document.createElement('div'); div.className='animal'; div.innerHTML=`<div style='font-size:22px'>${a.emoji}</div><div>${a.label}</div>`;
  div.addEventListener('click',()=>toggleSelect(a.key,div));
  animalsEl.appendChild(div);
 });
}

function toggleSelect(key,el){
 if(selected.has(key)){selected.delete(key); el.classList.remove('selected');}
 else{if(selected.size>=maxChoices){alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î '+maxChoices+' ‡∏ï‡∏±‡∏ß'); return;} selected.add(key); el.classList.add('selected');}
}

document.getElementById('spinBtn').addEventListener('click',()=>{
 if(selected.size===0){alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô'); return;}
 const betPerChoice=parseInt(document.getElementById('betAmount').value)||50;
 const totalBet=betPerChoice*selected.size;
 if(balance<totalBet){alert('‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠'); return;}
 balance-=totalBet; document.getElementById('playerBalance').textContent=balance;
 document.querySelectorAll('.animal').forEach(a=>{a.classList.add('shake'); setTimeout(()=>a.classList.remove('shake'),500);});
 const dice=[]; for(let i=0;i<3;i++){ dice.push(animalsList[Math.floor(Math.random()*animalsList.length)].key);}
 const counts={}; dice.forEach(d=>counts[d]=(counts[d]||0)+1);
 let totalWin=0; let breakdown=[];
 selected.forEach(k=>{ const occ=counts[k]||0; const payout=betPerChoice*occ; totalWin+=payout; breakdown.push(`${animalsList.find(a=>a.key===k).label} ${occ} ‡∏•‡∏π‡∏Å (‡πÑ‡∏î‡πâ ${payout} ‡∏ø)`);});
 const net=totalWin-totalBet; balance+=totalWin; document.getElementById('playerBalance').textContent=balance;
 document.getElementById('diceResult').innerHTML=dice.map(d=>animalsList.find(a=>a.key===d).emoji).join(' ');
 document.getElementById('summary').innerHTML=breakdown.join(' ‚Äî ');
 document.getElementById('payout').innerHTML=`‡∏£‡∏ß‡∏°‡∏ä‡∏ô‡∏∞ ${totalWin} ‡∏ø ‚Äî ‡∏Å‡∏≥‡πÑ‡∏£ ${net>=0?'+':''}${net} ‡∏ø`;
 document.getElementById('resultArea').style.display='block'; selected.clear(); createAnimals();
 // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
 let user = users.find(x=>x.username===currentUser); if(user){user.balance=balance; saveUsers();}
});

function showAdmin(){
 const sel=document.getElementById('playerSelect'); const list=document.getElementById('playersList'); sel.innerHTML=''; list.innerHTML='';
 users.forEach(u=>{ const opt=document.createElement('option'); opt.value=u.username; opt.textContent=`${u.id} (${u.username}) - ${u.balance} ‡∏ø`; sel.appendChild(opt); const div=document.createElement('div'); div.textContent=`${u.id} (${u.username}) - ${u.balance} ‡∏ø`; list.appendChild(div); });
}

function updatePlayerBalance(){
 const uname=document.getElementById('playerSelect').value;
 const amt=parseInt(document.getElementById('adminAmount').value)||0;
 let u=users.find(x=>x.username===uname); if(!u){alert('‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏ö'); return;}
 u.balance+=amt; if(u.balance<0) u.balance=0; saveUsers(); showAdmin(); if(currentUser===uname){balance=u.balance; document.getElementById('playerBalance').textContent=balance;}
}

</script>

</body>
</html>
